Liunx常用命令

# 关机

```shell
sync # 将数据由内存同步到硬盘中。 
shutdown # 关机指令，你可以man shutdown 来看一下帮助文档。例如你可以运行如下命令关机： 
shutdown –h 10 # 这个命令告诉大家，计算机将在10分钟后关机 
shutdown –h now # 立马关机
shutdown –h 20:25 # 系统会在今天20:25关机 
shutdown –h +10 # 十分钟后关机 
shutdown –r now # 系统立马重启 
shutdown –r +10 # 系统十分钟后重启 
reboot # 就是重启，等同于 
shutdown –r now halt # 关闭系统，等同于shutdown –h now 和 poweroff
```

> 提示: 不管是重启系统还是关闭系统，首先要运行 **sync** 命令，把内存中的数据写到磁盘中



# 系统目录说明



***\*/bin\****： bin是Binary的缩写, 这个目录存放着最经常使用的命令。

***\*/boot\*******\*：\**** 这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

***\*/dev\**** ***\*：\**** dev是Device(设备)的缩写,  存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。

***\*/etc\*******\*：\**** 这个目录用来存放所有的系统管理所需要的配置文件和子目录。

***\*/home\****：用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账 号命名的。

***\*/lib\****： 这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。

***\*/lost+found\****： 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

***\*/media\****：linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。

***\*/mnt\****：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，  然后进入该目录就可以查看光驱里的内容了。

***\*/opt\****：这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

)***\*/proc\****：  这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。

***\*/root\****：该目录为系统管理员，也称作超级权限者的用户主目录。

***\*/sbin\****：s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。

***\*/srv\****：该目录存放一些服务启动之后需要提取的数据。

***\*/sys\****：这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统

sysfs 。

***\*/tmp\****：这个目录是用来存放一些临时文件的。

***\*/usr\****：这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows

下的program ﬁles目录。

***\*/usr/bin\*******\*：\**** 系统用户使用的应用程序。

***\*/usr/sbin\*******\*：\**** 超级用户使用的比较高级的管理程序和系统守护程序。

***\*/usr/src\*******\*：\**** 内核源代码默认的放置目录。

***\*/var\****：这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录  下。包括各种日志文件。

***\*/run\****：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被  删掉或清除。





# 操作目录

```shell
ls: 列出目录
		-a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)
		-l ：长数据串列出，包含文件的属性与权限等等数据；(常用)
cd：切换目录
pwd：显示目前的目录
	 	-P ：显示出确实的路径，而非使用连结 (link) 路径。
mkdir：创建一个新的目录
		# mkdir [-mp] 目录名称
		-m ：配置文件的权限  例如mkdir -m 711 test2
		-p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！ 
				#  mkdir -p test1/test2/test3/test4				
rmdir：删除一个空的目录
		# rmdir [-p] 目录名称
		-p ：连同上一级『空的』目录也一起删除
cp: 复制文件或目录
		# cp [-adfilprsu] 来源档(source) 目标档(destination) 
		# cp [options] source1 source2 source3 .... directory
		-a：相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)
    -p：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；
    -d：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；
    -r：递归持续复制，用於目录的复制行为；(常用)
    -f：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；
    -i：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
    -l：进行硬式连结(hard link)的连结档创建，而非复制文件本身。
    -s：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；
    -u：若 destination 比 source 旧才升级 destination ！
rm: 移除文件或目录
		# 尽量不要在服务器上使用 rm -rf /
		-f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
		-i ：互动模式，在删除前会询问使用者是否动作
		-r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！
mv: 移动文件与目录，或修改文件与目录的名称
		# mv [-fiu] source destination
		-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
		-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
		-u ：若目标文件已经存在，且 source 比较新，才会升级 (update)
```

> 提示: 你可以使用 *man [*命令*]* 来查看各个命令的使用文档，如 ：man cp。



# 修改文件权限

```shell
# chmod [-R] xyz 文件或目录
chmod 770 filename
```



# **文件内容查看**

```shell
cat 由第一行开始显示文件内容
		-A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
    -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
    -E ：将结尾的断行字节 $ 显示出来；
    -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
    -T ：将 [tab] 按键以 ^I 显示出来；
    -v ：列出一些看不出来的特殊字符
tac 从最后一行开始显示，可以看出 tac 是 cat 的倒著写！
nl 显示的时候，顺道输出行号！
		-b ：指定行号指定的方式，主要有两种：
    -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
    -b t ：如果有空行，空的那一行不要列出行号(默认值)；
    -n ：列出行号表示的方法，主要有三种：
    -n ln ：行号在荧幕的最左方显示；
    -n rn ：行号在自己栏位的最右方显示，且不加 0 ；
    -n rz ：行号在自己栏位的最右方显示，且加 0 ；
    -w ：行号栏位的占用的位数。
more 一页一页的显示文件内容
		空白键 (space)：代表向下翻一页；
    Enter ：代表向下翻『一行』；
    /字串 ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；
    :f ：立刻显示出档名以及目前显示的行数；
    q ：代表立刻离开 more ，不再显示该文件内容。
    b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。
less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
		空白键 ：向下翻动一页；
    [pagedown]：向下翻动一页；
    [pageup] ：向上翻动一页；
    /字串 ：向下搜寻『字串』的功能；
    ?字串 ：向上搜寻『字串』的功能；
    n ：重复前一个搜寻 (与 / 或 ? 有关！)
    N ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
    q ：离开 less 这个程序；
head 只看头几行
		-n 后面接数字，代表显示几行的意思！
tail 只看尾巴几行
		-n ：后面接数字，代表显示几行的意思
```





## 磁盘管理

```shell
df [-ahikHTm] [目录或文件名]
    -a ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；
    1 组名:口令:组标识号:组内用户列表 1 df [-ahikHTm] [目录或文件名]
    -k ：以 KBytes 的容量显示各文件系统；
    -m ：以 MBytes 的容量显示各文件系统；
    -h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；
    -H ：以 M=1000K 取代 M=1024K 的进位方式；
    -T ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；
    -i ：不用硬盘容量，而以 inode 的数量来显示
du [-ahskm] 文件或目录名称
		-a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。
    -h ：以人们较易读的容量格式 (G/M) 显示；
    -s ：列出总量而已，而不列出每个各别的目录占用容量；
    -S ：不包括子目录下的总计，与 -s 有点差别。
    -k ：以 KBytes 列出容量显示；
    -m ：以 MBytes 列出容量显示；
```



# 进程管理

```shell
ps  # 使用ps指令即可查看当前系统中正在执行的进程的各种进程信息
		# ps -aux|grep xxx ，查看某个服务的进程
		-a：显示当前终端的所有进程信息
    -u：以用户的形式显示进程信息
    -x：显示后台进程运行的参数
    -e 显示所有进程。
    		• UID：用户ID
				• PID：进程ID
    -f 全格式。
|   是 liunx 管道符,例子:命令格式：命令A|命令B，即命令A的正确输出作为命令B的操作对象
grep 命令用于查找文件里符合条件的字符串。

ps -ef是以全格式显示当前所有的进程

# kill [选项] 进程号（功能描述：通过进程号杀死进程）
# -9 :表示强迫进程立即停止
kill -9 PID

pstree [选项] ,可以更加直观的来看进程信息
		-p :显示进程的PID
		-u :显示进程的所属用户
		
sudo fuser -k -n tcp 8080 #直接杀死进程（根据端口）
```







# jar包启动

```shell
nohup java -jar 自己的springboot项目.jar >日志文件名.log 2>&1
		nohup：
				不挂断地运行命令，退出帐户之后继续运行相应的进程。
		>日志文件名.log：
				是nohup把command的输出重定向到当前目录的指定的“日志文件名.log”文件中，即输出内容不打印到屏幕上，而是输出到”日志文件名.log”文件中。不指定文件名会在当前目录创建nohup.out，如果当前目录的 nohup.out 文件不可写，输出重定向到 $HOME/nohup.out 文件中。如果没有文件能创建或打开以用于追加，那么 Command 参数指定的命令不可调用。
		2>&1：
				2就是标准错误，1是标准输出，该命令相当于把标准错误重定向到标准输出么。这里&相当于标准错误等效于标准输出，即把标准错误和标准输出同时输出到指定的“日志文件名.log”文件中。
```





# 配置环境变量

## 方式一

在/etc/profile文件中添加变量【对所有用户生效（永久的）】

用VI在文件/etc/profile文件中增加变量，该变量将会对Linux下所有用户有效，并且是“永久的”。

要让刚才的修改马上生效，需要执行以下代码

source /etc/profile



## 方式二

在用户目录下的.bash_profile文件中增加变量【对单一用户生效（永久的）】

用VI在用户目录下的.bash_profile文件中增加变量，改变量仅会对当前用户有效，并且是“永久的”。

要让刚才的修改马上生效，需要在用户目录下执行以下代码

source .bash_profile



## 方式三

直接运行export命令定义变量【只对当前shell（BASH）有效（临时的）】

在shell的命令行下直接使用[export变量名=变量值]定义变量，该变量只在当前的shell（BASH）或其子shell（BASH）下是有效的，shell关闭了，变量也就失效了，再打开新shell时就没有这个变量，需要使用的话还需要重新定义。

例如：export PATH=/usr/local/webserver/php/bin:$PATH





# 解压

针对tar.gz格式文件



解压

`tar -zxvf java.tar.gz`

解压到指定文件夹

`tar -zxvf java.tar.gz  -C /usr/java`

解压方式 2

`gzip -b java.gz`





