# unity3D软件使用

---

# 
# 杂乱的操场
**

---

## 物理 层决定某个层不碰撞
决定某个层不碰撞
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606828293758-93949b2b-2f61-4906-8faa-5c806697c7f3.png)



---

## 制作资源插件 Poly Brush
[YouTube 教学](https://www.youtube.com/watch?v=JWAnQiN9Zkw&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=27)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606383899311-8bf2b69a-c572-460a-9639-fe7eadbca460.png)



---

## 如何做水
[https://www.youtube.com/watch?v=Vg0L9aCRWPE&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=47](https://www.youtube.com/watch?v=Vg0L9aCRWPE&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=47)

---

## 烟雾粒子效果插件Unity VFX


[https://www.youtube.com/watch?v=R6D1b7zZHHA&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=43](https://www.youtube.com/watch?v=R6D1b7zZHHA&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=43)



---



## 通用渲染管线插件
[YouTube 教学](https://www.youtube.com/watch?v=Ar9eIn4z6XE&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=31)
Universal RP
提示:If you are just looking at this now, The Light Weight Render Pipeline has been renamed to Universal Render Pipeline. The LWRP has evolved into the Universal RP. This is in contrast to High Definition Render Pipeline, which the Universal RP does not replace.

![image.png](http://47.116.9.227/img/blog/unity_app_use/1606394431972-3f079414-3209-4782-99b9-6ea0a782c620.png)


![image.png](http://47.116.9.227/img/blog/unity_app_use/1606395370904-ba4b27d7-5402-49dc-98a1-d482df8911db.png)
右键查看 在线 APi
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606395473400-cdb352e4-6fcd-4ac4-919d-5cb3c3bdbcd9.png)
[制作全息影像材质](http://youtube.com/watch?v=KGGB5LFEejg&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=32)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606397198625-ce9c59cb-0bfa-48ff-8262-99cbeadfc30d.png)



---

## 使用Snap在Unity中快速创建3D关卡并为之建模
[https://www.youtube.com/watch?v=b4oqOdBCy3c&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=55](https://www.youtube.com/watch?v=b4oqOdBCy3c&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=55)


## 捕捉设置窗口
每次移动游戏对象时按照一定规则拖动, 相当实用
**![image.png](http://47.116.9.227/img/blog/unity_app_use/1606354065163-d021697f-89d6-4159-8a8c-8f0ad8b3f9ff.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606354285071-58ba4af1-046a-4040-802d-393231754068.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606354300573-cb21b259-14a5-467c-9a82-50c6e9dc54a8.png)**
**提示:**
Unity Edit中找不到SnapSettings, 用 Grid and Snap Settings
调整好参数  找到物体按住 command 拖拽即可



---


---

## ProBuilder在Unity编辑器中为关卡和道具建模
资源商店下载并导入ProBuilder

![image.png](http://47.116.9.227/img/blog/unity_app_use/1606389438779-29468d10-6761-4231-a426-2f64325af417.png)


---

## ProGrids网格地图编辑
ProGrids是一个很棒的新工具，可用于将对象保持在网格上
[**YouTube 教程**](https://www.youtube.com/watch?v=UtNvtIrJcNc&list=PLPV2KyIb3jR5QFsefuO2RlAgWEz6EvVi6&index=29)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606389262351-75e90d22-4886-4266-a9d4-9e7b03273ae9.png)

---

## 各种Joint 联合组件
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606009052934-e975bdde-dd0a-45d5-a2dd-39cb6b37a4e9.png)
### Hing Joint 2D铰链
可以用于开门
使用限制> 限制上角度45 度
Motor马达 如果使用马达 物体会自动进行旋转
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606009573055-3bfaf00a-de4f-4b91-a317-84109faae4ce.png)

---

## 将图片铺满屏幕
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605951298539-0f9069ce-4725-4cba-af01-223550a88dfc.png)
图片素材修改成可重复的
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605951349637-ca8676f1-979c-4019-9a1d-25d7994f0bb4.png)
修改材质 调整平铺规律
调整偏移量Offset x/y 使图片滚动
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605951394604-a5150dda-7c91-4535-b552-4b2d81122d63.png)
**
**

---

## Grid Layou中拖拽物体闪动到下方问题
使用 Layou Element 插件 忽略布局解决
**![image.png](http://47.116.9.227/img/blog/unity_app_use/1605934622057-1a50654d-e8ce-4228-a866-c0a45d6dbbd0.png)**
**

---

## 点击按钮隐藏窗口
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605766535457-a3447047-ff7e-49bb-86d4-bd5e28959ebe.png)
**
**

---

## Post Processing包
视觉效果提升, 曝光 滤镜 阴影 凹凸透镜  边缘模糊  
添加相机抖动的效果

**使用**


**专门定制一个新的图层 Post processing**
**![image.png](http://47.116.9.227/img/blog/unity_app_use/1605572550913-3c11ba6e-7117-45c2-80d5-9258c93faaf4.png)**
创建新的 GameObject并绑定该层, 添加 Post-process Volume 组件, 并设置为全局 is Global
Priority决定特效优先级
**![image.png](http://47.116.9.227/img/blog/unity_app_use/1605572818931-26a8c110-ae12-4c7e-94b4-8c4f1e7a80f9.png)**
**
为主摄像机添加 Post Process Layer 组件, 并指定层为**Post processing**
**![image.png](http://47.116.9.227/img/blog/unity_app_use/1605571734043-e854252f-644d-458f-96c1-548bd1f92706.png)**
## 为摄像机画面添加震动效果
**为 2D 摄影机添加 **CinemachinelmpulseListener脉冲监听器
这个组件能检查到场景中哪个物体发生摄像机振动的效果
**![image.png](http://47.116.9.227/img/blog/unity_app_use/1605574912623-3497d86a-7f21-4b74-bcc7-d35f7c1ced34.png)**
**
给需要震动镜头的物体添加 source  (Cinemachine Collision Impulse Source (Script))
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605579668991-11d9e2dc-a3e7-45f2-8011-00173dd3ae47.png)
设置震动的信号形状
原始信号 > xxx
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605579723699-fc03f35c-0c94-487d-bab5-cf25167d2930.png)
选择哪个层触碰该物体会发生镜头震动
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605579872540-469889ce-2a5a-417d-a255-8213e7d581fd.png)


Amplitude Gain 振幅增益 ,振动的幅度已乘法进行添加的,如果过大会游戏摄像机震动会超出 游戏场景
Frequency Gain 频率增益, 振动频率  数值越大震动的速度越快的完成


注意有些没有 Fast Mode属性的功能移动端不要使用,会卡
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605655644745-007f9167-e341-4b99-8abd-a55a9b0ad835.png)



---

**
**
**组件中点击右上角书本![image.png](http://47.116.9.227/img/blog/unity_app_use/1605170188402-c200e107-3e26-462d-ade7-cc8fa8281b08.png)能跳转到帮助文档**
FixedUpdate是固定更新间隔一段时间执行的,不要把玩家交互放到里头,玩家按键相关操作应该放到Update, 这样玩家操作体验更加丝滑
↑引出>玩家对象跳跃移动很诡异,有时幅度大有时幅度小怎么办,在 Update 里用 Time.deltaTime,在 FixedUpdate里用Time.fixedDeltaTime
FixedUpdate是真实时间，所以处理**物理逻辑(比如物体自动从 A 走到 B\旋转)**的时候要把代码放在FixedUpdate而不是Update.
gameObject 持续朝着一个方向前进,卡着不动可能被其他物体阻挡了,比如下飞目标在地面墙下边
↑引出>做完碰墙检测判断,再移动一段距离,防止一直在碰墙检测中死循环
游戏运行中修改参数想要保留 > 点击齿轮⚙复制参数  停止后粘贴参数即可
修改好参数的组件也可以整个复制\粘贴, 随便选择一个组件右上角...粘贴新组件即可
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604879411873-a50c7066-2b02-405c-a9f5-1da80102de3d.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604879580781-34a75d76-56bb-4b25-9526-c3146b838ef1.png)




## 瓷砖调色板 > 规则图块  
2D-extra拓展包
按照设定的规则自动变换成相应瓷砖
可以指定也可以随机
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605161168382-3c9bb5ff-5fb4-486e-8542-bb9df77178d8.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605163259383-2297323d-ebc0-42b6-b665-202c097ba2fc.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605163289759-28e39169-4414-4d8e-a7fa-bc5038718ff6.png)


将制作好的 规则图块 拖拽到瓷砖调色板中 , 点击笔刷在地图中绘制地图![image.png](http://47.116.9.227/img/blog/unity_app_use/1605163351490-f696562f-e087-4257-a703-59e04ff802f5.png)


## 地图碰撞器合成为一体
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605168670906-b7b78b9d-566d-4e8c-ae6b-53971388af67.png)
添加复合的碰撞器时会自动添加刚体  需要把刚体固定防止地图掉落,固定方法有多种![image.png](http://47.116.9.227/img/blog/unity_app_use/1605169047811-4a465a2c-f967-43f7-b6fb-f982e1b521f6.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605169019103-777a36f9-7690-44e8-8777-67aa53ec0969.png)

---

## 像素画图片模糊 
调整 Advianced 中 Filter Mode属性 改为 Point
 ![image.png](http://47.116.9.227/img/blog/unity_app_use/1606039336144-85a673b0-1dee-472d-9322-9a4bec930f7d.png)

---



## 导入程序包
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605086739455-a7c2fb12-1162-4295-a2d3-0b5668b38a4c.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605086752999-6253a753-75a4-43c8-b874-f61976cd1bd7.png)


### 通过 Resouces 加载资源并实例化
通过Resources. Load(string path)方动资源, path的书写不需要加Resources/以及文件扩展名
示例
gameobject. GetComponent<Image>().sprite = Resources . Load<Sprite>(PlayerPrefs.GetString("sh", "she2"));
bodysprites [0] = Resources. Load<Sprite> (PlayerPrefs.GetString("sbe1", "sbe201"));
bodySprites [1] = Resources . Load<Sprite>(PlayerPrefs.GetString("sbe2", "sbe202"));


#### 


### 播放死亡音效
public AudioClip eatAudioClip;
AudioSource.PlayClipAtPoint(dieAudioClip, transform.localPosition);


### 
### 协成
协成是另外起一个线程等待多少秒然后在继续执行后边代码
声明一个协程的方法
    IEnumerator<WaitForSeconds> GameOver(float t)
    {
        yield return new WaitForSeconds(t);
        UnityEngine.SceneManagement.SceneManager.LoadScene(1);
    }


这样调用协成的方法
StartCoroutine(GameOver(1.5f));


### 将键值写在计算机注册表中
PlayerPrefs.SetInt("bestScore", 999)
获取  获取不到返回 0
PlayerPrefs.GetInt("bestScore", 0)
### 单帧调试
启动调试 运行场景暂停游戏加断点单帧执行结束调试
### 场景渲染
OnBecameVisible当可见
当Mesh Renderer在任何相机上可见时调用。
OnBecamelnvisible当不可见
当Mesh Renderer在任何相机上都不可见时调用。  
结束阶段
OnDisable当不可用
对象变为不可用或附属游戏对象非激活状态时此函数被调
用。
Onpestroy,当销毁:
当脚本销毁或附属的游戏对象被销段时被调用。
OnApplicationQuit当程序结束:应用程序退出时被调用。
### 顶点吸附:选择物体后按住V键,定位定点,再拖抽到目标物体某个定点上。(备注:先松V键)
gameObject物体是容器
只对gameObject的父层操作,防止经常换模型
![image.png](http://47.116.9.227/img/blog/unity_app_use/1602314889711-8149c97d-f76a-44eb-a15a-cbd28c33f198.png)
纹理在 albedo 前面设置
颜色在 albedo 后边设置


### 材质中Rendering Mode渲染模式选项
-- Opaque不透明,默认选项。
--Transparent透明,用于半透明和全透明物体,如玻璃。
--Cutout镂空,用于完全透明或完全不透明物体,如栅栏
-- Fade渐变,用于需要淡入淡出的物体。


天空盒SkyBox
围绕整个场景的包装器,用于模拟天空的材质。


摄像机 Projection 两个属性决定是为 3D 视角/2D 视角
![image.png](http://47.116.9.227/img/blog/unity_app_use/1602331980485-23f5d899-c52b-4270-a371-1259718cc36c.png)



---

# 制作精灵
## 新建 Sprite精灵
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604307906976-04f4a8a0-1fea-4c7f-bb0b-98a807115b88.png)
修改精灵素材图片为统一的 16*16 大小
点刚才新建的精灵 重命名,找到 Sprite Renderer 精灵渲染器 把精灵素材拖拽到 Sprite 选项,调整 Transform
注意将 transform 重置,如果图片没显示很可能是 z 属性为负数
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604308119497-3576fd78-af08-4c8f-8aee-688d96b14aa6.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604308304519-714a7f09-1ab7-4739-ab7b-5370b07e8f06.png)
### 将纸片人变成实际的物件
1增加刚体
加上Rigidbody2D组件,考虑重力是否启用
Gravity Scale 重力秤
Mass 阻力
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604308435947-0a9c8fd0-d6fb-4654-864f-7c1fe291db29.png)
碰撞检测设置为连续不断地判断,让操作更加的丝滑
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605169585924-10553c0e-0923-42f4-b891-6694a9dfdfd7.png)
设置刚体插 >  插    让物体碰撞地面有一定下陷,撞墙有一些凹陷, 玩家体验感更好
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605170045135-d5f502a5-2563-42aa-9db9-afa6db62a2b8.png)


2增加碰撞器
加上Box Collider 2D 碰撞机, 能够撞上其他物体不会穿过,观察并修改碰撞体
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604308830234-6e1671ba-5a0a-40a9-889b-636ed0eacf05.png)







---

# 命名建议
控制器 Controller
玩家 Player
背景 Background
刚体变量 rb  --首字母字母小写
移动 Movement



---

# 简单的2D 地图透视效果
摄像机改成透视属性,地图图层前后距离拉开,


将摄像机切换成透视
设置Camera -projection - perspective


Transform >Position > z分别是[0.99 , 1 ,0 , -0.01]

---

# 镜头跟踪
包管理中添加 Cinemachine电影机插件
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604487144850-6ed56aeb-ea33-4f7a-b903-ae8b54696643.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604476840405-45e6364e-b08f-4069-a1d4-d0308bffc5ba.png)
创建新的摄像头到场景中
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604476868134-fff0f4b6-67c9-48e6-ac21-4abbb648f008.png)
点开属性面板 > Cinemachine Virtual Camera (Script) > 将摄像机跟随对象拖拽到 Follow
现在摄像机可以延迟跟随对象
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604476968479-13ece959-4067-4480-b773-123b6905ddf1.png)
调整摄像机大小,设置Camera Distance为15
调整属性 > 限制移动范围 > 修改摄影机延期跟踪范围
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604488050742-3cb26eb6-67be-4602-b766-8ff8d963c4c8.png)
**限制摄像机跟踪范围在背景图之内**
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604488324074-2c687fcf-6dd7-4a8c-a99c-3d2440855041.png)
为 Confiner 组件的Bounding Shape 2D边界形状指定带碰撞器的地图对象
必须是PolygonCollider2D或CompositeCollider2D。(多边形碰撞器编辑时,按住 command 点红色边框删除,按点没用)
镜头大小适当调整
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604488365617-b0e7f11e-7651-47af-8da2-4ed90a21c9b5.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604490693614-8a900849-24c2-4c21-874a-30108b33fbeb.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604490923814-beb698d6-c20b-443e-a978-6d5fd9619eaf.png)



---



# 制作贴图地图
## 新建瓷砖地图
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604305058968-90364ce8-0d10-4458-b55a-9ee9290d34b3.png)
## 打开瓷砖调色板 Tile Palette 面板
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604305005463-da091803-5ae9-4de7-a9ea-822ed4f0e3b5.png)
创建新调色板 新建一个文件夹并选择
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604306621953-d8b4afcd-52c0-4393-b20f-c368fd00f31f.png)
切割素材图片  拖拽到新建的文件夹
点击Tilemap
打开Tile Palette选项卡 用笔刷工具(快捷键 B)绘制地图
## 地图加上碰撞体
Tilemap Collider 2d组件,添加后自动



---

# 背景图
将制作好的背景图片放到资源文件夹中  直接拽到Hierachy 面板上
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604307613612-3d3d6ab4-2694-4577-8d8c-545be8086b82.png)
## 修改背景图片 每个单元格占 16 个像素点
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604299795803-8e8aa3b9-0703-4c62-bad9-d2bd04f15404.png)
配置优先展示层 背景放在最底下 并且配置中选中该属性
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604307235694-731d2c89-3a0b-4a81-9fd9-43d620a8080a.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604307263354-70490b94-d0dd-43de-a8d9-ab7d7bd9a9fc.png)



---

# 给对象添加动画
添加动画制作Animator组件 > 制作动画控制器 
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604393524354-520a938f-2443-4875-ae7b-6fc419b229fc.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604393454425-b251a2c6-8c90-4b63-9020-a545558baab7.png)
显示动画制作窗口
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604395966951-789d5746-27a7-45a4-be70-3e7e3d9e6e5f.png)
显示动画窗口
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604393644863-1dacc9cc-ecff-41ea-a86a-3189c381b5cb.png)
创建动画  点击 GameObject > 在动画窗口 > 将动画图片一起拖入窗口 > 修改帧率
**动画切换中退出时间设置为 0**
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604396064295-45802c0c-a1b2-4b5c-876d-8ff4ffd26fa5.png)



---



# 增加碰撞器
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604462232327-f45388ce-33c0-41cb-98c3-67f373f6c828.png)



---

# 刚体
中的 Rigidbody（刚体）可以为游戏对象赋予物理属性，使游戏对象在物理系统的控制下接受推力与扭力，从而实现现实世界中的运动效果
[unity刚体说明链接](http://c.biancheng.net/view/2749.html)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604462281281-4565dc62-dddf-4c98-b5f7-ce9eea46367f.png)



---



# 物品收集
制作物体 > 绑定 Collider 碰撞器 > 设置中勾选 isTrigger 属性 > 给物体绑定相关 Sorting Layer > 给物体加个相关标签 Tag
玩家对象代码中增加触发器代码>OnTriqgerEnter2D(Collider2D collision)
形参是碰撞到物体的 collision 对象
判断标签是要收集到的物体 collision.tag == "Collection"
对物体进行销毁Destroy(collision.game0bject);l
增加游戏分数
将物体放到Perfabs文件夹中

---

# 去除玩家贴墙效果 
**方法A在每个需要下落的物体上添加光滑的材质**
**方法B在玩家头部添加光滑材质**
玩家对象撞击墙体后会一直加速度 两个碰撞体间会产生摩擦力 摩擦力导致玩家不能下落
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604543377027-288be0c2-279e-4804-8f3e-1ce53102862f.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604543291751-0454bed8-fc4a-4753-8a25-8d907cf4f035.png)
需要给 Collider 添加 Material 材质, 在资源中先制作一个材质 > 材质的 Friction摩擦力 改为 0 > 给头部添加该材质
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604542826124-049c082f-f5f2-454f-bcef-44c7c572aeee.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604543817161-cd07a8f1-239b-4083-b118-0fd305468ccb.png)

---

# UI
所有 UI 都在Canvas画布上显示
using UnityEngine.UI
注意锚点



---

# 碰到敌人
碰撞器碰到其他碰撞器调用此函数
OnCollisionEnter2D(Collision2D collision)
Unity:当此碰撞器2D/刚体2D开始接触另一刚体2D/碰撞器2D时调用OncollisionEnter2D (仅限2D物理)
## 玩家下落踩中敌人消灭
`//碰到敌人 `
`        if (collision.gameObject.tag == "Enemies")`
`        {`
`            //如果下落中> 销毁敌人 > 玩家向上弹一下`
`            if (animator.GetBool("falling"))`
`            {`
`                Destroy(collision.gameObject);`
`                JumpUp();`
`            }`
## 玩家受伤回弹
注意移动判断和动画需要暂停,优先执行受伤动画,否则导致玩家不能回弹
`animator.SetBool("isHurt", true);`
`int moveDistance = transform.position.x > collision.gameObject.transform.position.x ? 10 : -10;`
`rb.velocity = new Vector2(moveDistance, rb.velocity.y);`

---



# 动画后调用脚本
动画执行到某位置后自动调用脚本中方法
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604622045482-83491123-0d09-41d0-98ad-2f79e9a2715c.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604622239051-88eef0c3-765d-4527-8fd6-d9d1e2db4053.png)
拖动到动画某播放位置调用该方法
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604622182859-6ace72da-c700-492d-a49a-acb3197cd475.png)

---



# 动画窗口定义 Trigger 变量
激活触发器
`animator.SetTrigger("dead");`
![image.png](http://47.116.9.227/img/blog/unity_app_use/1604642044741-695f439f-5cd3-4d71-8bc7-5d477df949a3.png)

---



# 调整场景中灯光
窗口Window > 渲染Rendering > 照明设置Lighting Settings
Ambient Color选择喜欢的颜色提高场景亮度
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606356432092-1a4373a3-2f3b-4e1f-8ae1-7dbae321553f.png)
迷雾  远处逐渐看不到  雾颜色可调整
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606356527747-49ad25e1-dfd5-4e14-9097-0196e2097ede.png)



---

# 动画Blend Tree混合树
通过值大小来切换动画


![image.png](http://47.116.9.227/img/blog/unity_app_use/1605485188232-dab8554e-a44f-48cb-a66f-ce7076b5bcd5.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605485168057-7cc1db00-483a-4bce-9f88-e84c0c7793ce.png)





---



# 不讲道理的坑



---

## 射线一直不出来  
请检查 Gizmos 是否选中
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606555342969-2e33ae5b-3485-4b05-b667-7140075c7dc3.png)

---

## 重新加载场景光线色彩加重
去掉照明中自动配置
![image.png](http://47.116.9.227/img/blog/unity_app_use/1606359706014-cf9de760-d321-49f3-a907-30d5b4f01310.png)

---

## 新建项目失败
新建项目提示:启动编辑器时出错:应用程序路径不存在
原因:    unity 某版本损坏  移除并重新安装,或者选择其他可用的版本新建项目
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605946344181-43538f5a-3d1f-4fc9-9c44-38135d22eff8.png)
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605946474014-a58020f2-c89f-4e27-a164-b7f63b9b782e.png)



---

## 某个项目打不开了
>检查Unity hub 许可证是否过期, 许可证有效期很短的>检查登录情况>退出 Unity Hub 重新打开登录

---

## 游戏大小和教程视频里大小不一样
游戏界面窗口太小和教程里的参数一样,显示就是不一样
去掉这个勾选  低分辨率长宽比
![image.png](http://47.116.9.227/img/blog/unity_app_use/1605766932196-3297fb12-1a4f-4df5-884a-e52325ab130f.png)

---



不管如何修改代码都会提示空指针异常>>重启 Unity 不再乱提示了
```
NullReferenceException: Object reference not set to an instance of an object
UnityEditor.Graphs.Edge.WakeUp () (at /Users/bokken/buildslave/unity/build/Editor/Graphs/UnityEditor.Graphs/Edge.cs:114)
UnityEditor.Graphs.Graph.DoWakeUpEdges (System.Collections.Generic.List`1[T] inEdges, System.Collections.Generic.List`1[T] ok, System.Collections.Generic.List`1[T] error, System.Boolean inEdgesUsedToBeValid) (at /Users/bokken/buildslave/unity/build/Editor/Graphs/UnityEditor.Graphs/Graph.cs:387)
UnityEditor.Graphs.Graph.WakeUpEdges (System.Boolean clearSlotEdges) (at /Users/bokken/buildslave/unity/build/Editor/Graphs/UnityEditor.Graphs/Graph.cs:286)
UnityEditor.Graphs.Graph.WakeUp (System.Boolean force) (at /Users/bokken/buildslave/unity/build/Editor/Graphs/UnityEditor.Graphs/Graph.cs:272)
UnityEditor.Graphs.Graph.WakeUp () (at /Users/bokken/buildslave/unity/build/Editor/Graphs/UnityEditor.Graphs/Graph.cs:250)
UnityEditor.Graphs.Graph.OnEnable () (at /Users/bokken/buildslave/unity/build/Editor/Graphs/UnityEditor.Graphs/Graph.cs:245)

```